<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>
        Lab 04
    </title>
    <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/styled-components/dist/styled-components.min.js"></script>

</head>

<body>
    <div id="container"></div>

    <script type="text/babel">

        const QuizHook = (props) => {
            const [movies, setMovies] = React.useState([]);

            React.useState( () => {
                (async () => {
                    try {
                        const response = await fetch('https://quiz212api.herokuapp.com/movies');
                        if (!response.ok)
                            throw Error(response.status + ': ' + response.statusText);
                        const result = await response.json();
                        setMovies(result);
                    }catch(error){
                        console.log('Fetch API Error: ' + error);
                    }
                })
            },[]);

            return (
                <React.Fragment>
                    <div className = {props.className}>
                        <StyledTitle />
                        {movies.map(movie =>
                            <StyleMovie key={movie.id} {...movie}/>
                        )}
                    </div>
                </React.Fragment>

            )
        }



            // Title Component
        const Title = ({className}) =>{
        return (
            <div className = {className}>
                <h1>My Favorite Movies</h1>
                <h3>Rolando</h3>
            </div>
        )};

            // Movie Component
        const Movie = ({className, name, link, textColor, textSize}) =>{
        return (
            <div className = {className}>
                <li> {name}: <a href={link}>{name}</a></li>
            </div>
        )};

        const StyledApp = styled(QuizHook)`
            background-color: papayawhip;   
            box-shadow: 0px 0px 5px gray;   
            padding: 10px
        `;
        const StyleTitle = styled(Title)`
            color: #006666;
            border: 1px solid black;
            background-color: #ffffcc;
            padding: 10px
            font-weight: bold;
        `;
        const StyleMovie = styled(Movie)`
            background-color: #ccffee;
        `;    

        ReactDOM.render(
            <StyledApp />,
            document.getElementById('container')
        );

    </script>


</body>

</html>